/=  /= //
= //
= / -> //
= /###/##\\#/
= 
= /@-----;/
=   \\ -> \\ -> \\ -> \\
=   \\ -> \\ -> \\ -> \\
=   \\ -> \\ -> \\ -> \\
=   \\ -> \\ -> \\ -> \\
=   \\ -> \\ -> \\ -> \\
=   \\ -> \\ -> \\ -> \\
=   \\ -> \\ -> \\ -> \\
=   \\ -> \\ -> \\ -> \\
=   /
= /@----;/@-----;/
= /@---;/@----;/
= /@--;/@---;/
= /@-;/@--;/
= 
= /[6]/
=   @-----; -> @----; -> @---; -> @--; -> @-; -> \/
=   /
= /[5]/[6]/
= /[4]/[5]/
= /[3]/[4]/
= /[2]/[3]/
= 
= 
= /###/ SYSTEM /
=   /[print] //
=   /[log] /[LOG]: /
=   /[br]/
/
= 
=   /###/ FOR POINTER /
=   />@4;/@----;>/
=   />@3;/>@4;/
=   />@2;/>@3;/
=   />@1;/>@2;/
= 
=   /###/ FOR STOP POINTER /
=   /#@4;/@----;#/
=   /#@3;/#@4;/
=   /#@2;/#@3;/
=   /#@1;/#@2;/
= 
=   /###/ FOR CONSTANTS /
=   /}@3;/@---;}/
=   /}@2;/}@3;/
=   /}@1;/}@2;/
= 
= 
=   /{1}/^/
=   /{2}/{1}^/
=   /{3}/{2}^/
=   /{4}/{3}^/
=   /{5}/{4}^/
=   /{6}/{5}^/
=   /{7}/{6}^/
=   /{8}/{7}^/
=   /{9}/{8}^/
=   /{X}/{9}^/
= 
= /###/ CONSTANTS /
=   /{len}/{X}{X}{X}{X}/
=   /{text}/abccbabba/
=   /{text2}/ababcdeffedcba/
= 
= /###/ RANK 4 /
=   /###/ f0:t :: R6 /
=   /<f0:t>/
=     [6]{+f0:t:s}{+f0:l}[6]{+f0:l}{+f0:t:n}[6]
=     [6]{+f0:t:s}A[6]A{+f0:t:s}[6]
=     [6]{+f0:t:s}B[6]B{+f0:t:s}[6]
=     [6]{+f0:t:s}C[6]C{+f0:t:s}[6]
=     [6]{+f0:t:s}D[6]D{+f0:t:s}[6]
=     [6]{+f0:t:s}E[6]E{+f0:t:s}[6]
=     [6]{+f0:t:s}F[6]F{+f0:t:s}[6]
=     /
=   /{+f0:t:s}/{+f0:r}{+f0:t:n}/
=   /{+f0:t:n}/{f0:t:name}@2;/
= 
=   /###/ f0:t:* :: R5.V /
=   /<f0:t:A>/<f0:t>/ -> /{f0:t:name}@1;/A/
=   /<f0:t:B>/<f0:t>/ -> /{f0:t:name}@1;/B/
=   /<f0:t:C>/<f0:t>/ -> /{f0:t:name}@1;/C/
=   /<f0:t:D>/<f0:t>/ -> /{f0:t:name}@1;/D/
=   /<f0:t:E>/<f0:t>/ -> /{f0:t:name}@1;/E/
=   /<f0:t:F>/<f0:t>/ -> /{f0:t:name}@1;/F/
= 
= 
= 
= /###/ RANK 3 /
=   /###/ flip :: R3 /
=   /<flip>/
=     [3][{+f0:n}^[3][+{+f0:n}][{+f0:n}[3]
=     [3]#{+f0:n}^[3]#{+f0:n}>#{+f0:n}[3]
=     [3][+{+f0:n}][3]
=       <f0:t:A>
=       <f0:t:B>
=       <f0:t:C>
=       <f0:t:D>
=       <f0:t:E>
=       <f0:t:F>
=       [3]
=     [3][{+f0:n}][3]
=       [4]{+f0:r}{+f0:l}[4]{+f0:l}[4]
=       [4]{+f0:l}[4][4]
=       [3]
=     /
=   /{+f0:r}/#{+f0:n}>@4;/
=   /{+f0:l}/<{+f0:n}#/
=   /{+f0:n}/{flip:name}@2;/
= 
=   /###/ sort :: R3 /
=   /<sort>/
=     [3][{+s0:n}^[3][+{+s0:n}][{+s0:n}[3]
=     [3]#{+s0:n}^[3]#{+s0:n}>#{+s0:n}[3]
=     [3][+{+s0:n}][3]
=       [4]{+s0:r}AA[4]A{+s0:r}A[4]
=       [4]{+s0:r}AB[4]A{+s0:r}B[4]
=       [4]{+s0:r}AC[4]A{+s0:r}C[4]
= 
=       [4]{+s0:r}BA[4]A{+s0:r}B[4]
=       [4]{+s0:r}BB[4]B{+s0:r}B[4]
=       [4]{+s0:r}BC[4]B{+s0:r}C[4]
= 
=       [4]{+s0:r}CA[4]A{+s0:r}C[4]
=       [4]{+s0:r}CB[4]B{+s0:r}C[4]
=       [4]{+s0:r}CC[4]C{+s0:r}C[4]
=       [3]
=     [3][{+s0:n}][3]
=       [4]{+s0:r}[4][4]
=       [3]
=     /
=     /{+s0:r}/#{+s0:n}>@4;/
=     /{+s0:n}/{sort:name}@2;/
= 
=   /###/ upper :: R3 /
=   /<upper>/
=     [3][{+u0:n}^[3][+{+u0:n}][{+u0:n}[3]
=     [3][+{+u0:n}][3]
=       [4]{+u0:r}a[4]A{+u0:r}[4]
=       [4]{+u0:r}b[4]B{+u0:r}[4]
=       [4]{+u0:r}c[4]C{+u0:r}[4]
=       [4]{+u0:r}d[4]D{+u0:r}[4]
=       [4]{+u0:r}e[4]E{+u0:r}[4]
=       [4]{+u0:r}f[4]F{+u0:r}[4]
=       [3]
=     [3][{+u0:n}][3]
=       [4]{+u0:r}[4][4]
=       [3]
=     /
=     /{+u0:r}/#{+u0:n}>@4;/
=     /{+u0:n}/{upper:name}@2;/
= 
= 
=   /###/ lover:: R3 /
=   /<lover>/
=     [3][{+l0:n}^[3][+{+l0:n}][{+l0:n}[3]
=     [3][+{+l0:n}][3]
=       [4]{+l0:r}A[4]a{+l0:r}[4]
=       [4]{+l0:r}B[4]b{+l0:r}[4]
=       [4]{+l0:r}C[4]c{+l0:r}[4]
=       [4]{+l0:r}D[4]d{+l0:r}[4]
=       [4]{+l0:r}E[4]e{+l0:r}[4]
=       [4]{+l0:r}F[4]f{+l0:r}[4]
=       [3]
=     [3][{+l0:n}][3]
=       [4]{+l0:r}[4][4]
=       [3]
=     /
=     /{+l0:r}/#{+l0:n}>@4;/
=     /{+l0:n}/{lover:name}@2;/
= 
=   /<init>/
=     [log] ...init: {init:name}@2;...[br]
=   /
= 
= /###/ RANK 2 /
=   /###/ init:* :: R2.V /
=   /[init:fst]/<init><upper><sort>/
=     /{init:name}@1;/fst/
=     /{upper:name}@1;/fst:upper/
=     /{sort:name}@1;/fst:sort/
=     [init:fst]
= 
=   /[init:snd]/<init><upper><lover><flip>/
=     /{init:name}@1;/snd/
=     /{upper:name}@1;/snd:upper/
=     /{lover:name}@1;/snd:lover/
=     /{flip:name}@1;/snd:flip/
=     [init:snd]
= 
= 
= /###/ RANK 1 /
=   [fst:upper{4}]
=   [fst:sort{9}]
= 
=   /{fst:result}/
=     #fst:sort{9}>
=       #fst:upper>
=         {text}
=     /
= 
=   [snd:upper{X}{X}]
=   [snd:flip{X}{X}]
=   [snd:lover{X}{X}]
= 
=   /{snd:result}/
=     #snd:lover>
=       #snd:flip{X}{X}>
=         #snd:upper>
=           {text2}
=       <snd:flip#
=     /
= 
= /###/ RANK 0 /
=   [print] Upper result:    {fst:result}[br]
=   [print] Reversed result: {snd:result}[br]